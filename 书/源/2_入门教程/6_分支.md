# 分支

程序代码除了可以顺序执行, 还可以根据不同的条件判断, 执行不同的代码,
这就是 **分支**。

比如:

```
设 x = 5

输出 "测试开始"。

若x > 2:  # 条件判断
  输出 "大于 2"。  # 分支内的代码

输出 "测试结束"。
```

执行这段代码, 会输出 `大于 2`。
如果修改变量 `x` 的值, 比如:

```
设 x = 1

输出 "测试开始"。

若x > 2:  # 条件判断
  输出 "大于 2"。  # 分支内的代码

输出 "测试结束"。
```

那么分支内的代码就不会执行了。

也就是说, 只有 `若` 后面的条件判断成立,
分支内的代码才会执行。


## 分支语法

歧语言分支的语法格式为:

```
若条件1:
  # 代码块 1
另若条件2:
  # 代码块 2
另:
  # 代码块 3
```

其中 `若` 是必须的, `另若` 和 `另` 是可选的。

这里仍然使用缩进来区分代码块。


## 条件判断

歧语言内置了这些用于条件判断的运算符:

| 运算符 | 说明 | 举例 | 备注 |
| :----: | :--- | :--- | :--- |
| `==` | 相等 | `1 == x` | |
| `!=` | 不等 | `2 != y` | |
| `>` | 大于 | `x > 3` | |
| `<` | 小于 | `y < x` | |
| `>=` | 大于或等于 | `x >= 0` | |
| `<=` | 小于或等于 | `y <= -1` | |
| `&` | 与 (位运算) | `(x > 1) & (y > 2)` | |
| \| | 或 (位运算) | (x < 1) \| (x > 2) | |
| `~` | 非 (位运算) | `~((x > 1) & (x % 2 == 0))` | |

比如条件判断 `1 == x` 表示只有变量 `x` 的值为 `1` 时, 判断才成立, 否则不成立。

当条件判断比较复杂时, 就需要用到 `位运算` 运算符。
`&` (与) 的含义是 "并且", 只有前后两个条件判断都成立时, 整个判断才成立。

`|` (或) 的含义是, 前后两个条件有任意一个成立, 整个判断就成立。

`~` (非) 表示否定, 如果后面的条件成立, 则整个条件不成立。
如果后面的条件不成立, 则整个条件成立, 也就是反转。


## `另` 分支

`另` 表示 "另外" 的意思, 当 `若` 后面的条件判断不成立的时候,
就执行 `另` 代码块, 比如:

```
设 x = 1

若x > 2:
  输出 "大于 2"。
另:
  输出 "另外的情况"。
```

因为 `x > 2` 不成立, 所以执行 `另` 代码块。


## `另若` 分支

在 `另` 分支里面可以再次判断条件, 就是 `另若` 分支, 比如:

```
定义检测质量(文本), 参数分数(数字):
  若分数 > 80:
    "一等品"
  另若分数 > 70:
    "二等品"
  另若分数 > 60:
    "合格品"
  另:
    "不合格"

输出(检测质量 60)。
```

分支本身也是表达式, 分支中每个代码块的最后一个表达式会自动返回其值。
也就是分支自身的值, 等于其执行的代码块的最后一个表达式的值。

# 变量

**变量** 是一种存储数据的小容器。
计算机正在处理的数据需要存放到内存中, 变量是对内存的抽象, 也就是一小块内存。
比如一个整数一般占用 4 字节 (32 位) 或 8 字节 (64 位) 的内存空间。
程序员通常不用关心变量在内存中的具体哪个位置,
系统 (编译器, 操作系统等) 会自动为变量分配内存空间。

一个变量具有 **名称**, **数据类型**, **值** 这 3 个属性。
名称是程序员决定的变量名称, 基本可以随便写。
数据类型就是这个变量容器存储哪种数据, 比如存储数字。
值就是变量里面存储的具体的数据, 比如 `2` 这个数值。


## 定义变量

我们来定义一个变量, 比如:

```
定义变量测试, 666。

输出测试。
```

在这段代码中, 首先 (第 1 行) 我们定义了一个变量, 变量名称是 `测试`,
变量的值是 `666`, 变量的数据类型由编译器自动推断 (数字)。
定义一个变量就是创建了一个存储数据的容器。

然后 (第 3 行) 我们输出了这个变量的值。

歧语言中定义变量的语法格式为:

```
定义变量名称(类型), 初始值。
```

其中类型可以省略 (由编译器自动推断)。

注意: 变量的名称不能以 `0` ~ `9` 这些字符开头,
因为以 `0` 到 `9` 开头的东西会被认为是数字。

### 语法糖

语法糖就是一种完全等价的形式, 只是为了写起来更舒服一点。

比如我们还可以这样定义变量:

```
设 x = 1

输出x。
```

第 1 行的写法就相当于:

```
定义变量x, 1。
```

喜欢用哪种方式就用哪种方式。


## 赋值

变量作为一种存储数据的容器, 我们还可以向一个变量里面存放新的数据,
新的数据就会替换掉原来的数据, 这就是变量的 **赋值**。
比如:

```
定义变量体重, 55。  # 初始体重为 55kg
输出体重。

输出 "增肥成功 !"。
体重 = 60  # 赋值

输出体重。  # 再次输出体重
```

赋值语句使用等号 (`=`), 左侧为变量名称, 右侧为新的数据。

我们还可以把一个变量的值赋值给另一个变量, 比如:

```
定义变量体重, 55。
输出体重。

设体重0 = 体重  # 保存最初的体重
# 第 1 次增肥
体重 = 57
输出体重。

设体重1 = 体重  # 保存第 1 次增肥后的体重
# 第 2 次增肥
体重 = 58
输出体重。

设体重2 = 体重
# 第 3 次增肥
体重 = 60
输出体重。

输出 "增肥完成"。
# 输出保存的体重历史
输出体重0。
输出体重1。
输出体重2。
```

对于数字这样的简单数据, 从一个变量赋值到另一个变量,
就是把数据 **复制** 了一份。

### 使用变量进行计算

有了变量和赋值, 就可以使用变量进行计算了。
比如:

```
# 首先, 我们定义 3 个变量 x, y, a
设 x = 0
设 y = 2
设 a = 1

x = x + y  # 计算加法: 0 + 2
输出x。  # 结果应该是 2

x = x - a  # 计算减法: 2 - 1
输出x。  # 1

x = x * y  # 计算乘法: 1 * 2
输出x。  # 2

x = y / a  # 计算除法: 2 / 1
输出x。  # 2

# 更复杂的计算
x = ((100 + y) * x + a) * (10 / y) + x
输出x。  # 1027
```


## 数据类型

计算机可以处理很多种不同的数据, 比如数值, 文档, 程序, 网页, 图片, 视频, 声音,
3D 模型 等。
这些数据可以分成两大类, 数字和字符串。
其实字符串的底层也是数字。

为什么要区分数据类型 ?
因为不同类型的数据能做的操作不一样。
比如数字可以进行加减乘除运算, 字符串就不可以。

歧语言中对应数字的数据类型是 `数字`, 对应字符串的数据类型是 `文本`。

在定义变量时, 可以指定变量的数据类型, 比如:

```
定义变量体重(数字), 60。
定义变量昵称(文本), "喵喵"。

输出 "\(昵称)的体重是 \(体重)kg"。
```

### 数字 (可跳过)

很多种数据在计算机里面的存储方式是数字。
比如一张图片由很多个像素点组成,
每个像素点具有 红(R) 绿(G) 蓝(B) 这 3 个颜色值。
也就是说, 每个像素点由 3 个数字表示。
而视频是由每秒几十帧组成, 每一帧就是一张图片。

声音常见的采样率是 48kHz, 也就是每秒采样 4.8 万次, 每个采样就是一个数字。

3D 模型主要由一堆三角面组成, 每个三角面由 3 个顶点组成, 每个顶点具有 3 个坐标值 (x, y, z)。
所以 3D 模型也对应一堆数字。

计算机中的数字通常是固定长度, 比如 32 位 (4 字节), 64 位 (8 字节),
也就是一个数字占用固定大小的内存空间。
数字主要分为 2 大类, `整数` 和 IEEE-754 浮点数 (小数)。
整数又分为无符号整数 (没有负数) 和有符号整数 (可以表示负数)。

### 文本

字符串是由若干个字符组成的, 比如 `测试` 这个字符串的长度为 2 (含有 2 个字符),
其中第 1 个字符是 `测`, 第 2 个字符是 `试`。
字符串的长度也可以是 0 (`""`), 也就是不含任何字符。

歧语言代码使用双引号 (`"`) 来标记字符串的开始和结束, 比如:

```
输出 "喵喵"。
```

文档, 程序代码, 网页 (html) 等, 在计算机中都以字符串的形式存储。

字符串的存储方式, 也就是字符编码, 方式是给每个字符分配一个数字。
这样一个字符串就变成了一串数字。

比较常用的字符编码是 `Unicode` (<https://home.unicode.org/>), 翻译过来叫 "统一码"。

Unicode 是一个国际标准, 收录了许多种语言文字中的字符。
Unicode 目前的版本是 15.0.0, 收录了几万个汉字。

比如 `、` (顿号) 在 Unicode 中对应数字 `3001` (16 进制)。

----

扩展阅读:

+ 刨根究底字符编码之零——前言
  <https://zhuanlan.zhihu.com/p/27012715>

+ 刨根究底字符编码之一——关键术语解释(上)
  <https://zhuanlan.zhihu.com/p/27012967>

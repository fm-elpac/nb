<!DOCTYPE HTML>
<html lang="zh-CN" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>歧语言之书</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="1_简介/index.html"><strong aria-hidden="true">1.</strong> 简介</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1_简介/1_常见问题.html"><strong aria-hidden="true">1.1.</strong> 常见问题</a></li></ol></li><li class="chapter-item expanded "><a href="2_入门教程/index.html"><strong aria-hidden="true">2.</strong> 入门教程</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2_入门教程/1_网页体验平台.html"><strong aria-hidden="true">2.1.</strong> 网页体验平台</a></li><li class="chapter-item expanded "><a href="2_入门教程/2_本地开发环境搭建.html"><strong aria-hidden="true">2.2.</strong> 本地开发环境搭建</a></li><li class="chapter-item expanded "><a href="2_入门教程/3_第一个程序.html"><strong aria-hidden="true">2.3.</strong> 第一个程序</a></li><li class="chapter-item expanded "><a href="2_入门教程/4_变量.html"><strong aria-hidden="true">2.4.</strong> 变量</a></li><li class="chapter-item expanded "><a href="2_入门教程/5_函数.html"><strong aria-hidden="true">2.5.</strong> 函数</a></li><li class="chapter-item expanded "><a href="2_入门教程/6_分支.html"><strong aria-hidden="true">2.6.</strong> 分支</a></li><li class="chapter-item expanded "><a href="2_入门教程/7_循环.html"><strong aria-hidden="true">2.7.</strong> 循环</a></li><li class="chapter-item expanded "><a href="2_入门教程/8_定义类型.html"><strong aria-hidden="true">2.8.</strong> 定义类型</a></li><li class="chapter-item expanded "><a href="2_入门教程/9_模块与导入导出.html"><strong aria-hidden="true">2.9.</strong> 模块与导入导出</a></li><li class="chapter-item expanded "><a href="2_入门教程/10_输入输出.html"><strong aria-hidden="true">2.10.</strong> 输入输出</a></li></ol></li><li class="chapter-item expanded "><a href="3_参考手册/index.html"><strong aria-hidden="true">3.</strong> 参考手册</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="3_参考手册/1_源代码文件.html"><strong aria-hidden="true">3.1.</strong> 源代码文件</a></li><li class="chapter-item expanded "><a href="3_参考手册/2_特殊字符.html"><strong aria-hidden="true">3.2.</strong> 特殊字符</a></li><li class="chapter-item expanded "><a href="3_参考手册/3_内置数据类型.html"><strong aria-hidden="true">3.3.</strong> 内置数据类型</a></li><li class="chapter-item expanded "><a href="3_参考手册/4_关键词.html"><strong aria-hidden="true">3.4.</strong> 关键词</a></li><li class="chapter-item expanded "><a href="3_参考手册/5_字符串.html"><strong aria-hidden="true">3.5.</strong> 字符串</a></li><li class="chapter-item expanded "><a href="3_参考手册/6_数字.html"><strong aria-hidden="true">3.6.</strong> 数字</a></li><li class="chapter-item expanded "><a href="3_参考手册/7_变量.html"><strong aria-hidden="true">3.7.</strong> 变量</a></li><li class="chapter-item expanded "><a href="3_参考手册/8_函数.html"><strong aria-hidden="true">3.8.</strong> 函数</a></li><li class="chapter-item expanded "><a href="3_参考手册/9_内置函数.html"><strong aria-hidden="true">3.9.</strong> 内置函数</a></li><li class="chapter-item expanded "><a href="3_参考手册/10_定义类型和枚举.html"><strong aria-hidden="true">3.10.</strong> 定义类型和枚举</a></li><li class="chapter-item expanded "><a href="3_参考手册/11_运算符.html"><strong aria-hidden="true">3.11.</strong> 运算符</a></li><li class="chapter-item expanded "><a href="3_参考手册/12_表达式和语句.html"><strong aria-hidden="true">3.12.</strong> 表达式和语句</a></li><li class="chapter-item expanded "><a href="3_参考手册/13_分支.html"><strong aria-hidden="true">3.13.</strong> 分支</a></li><li class="chapter-item expanded "><a href="3_参考手册/14_循环.html"><strong aria-hidden="true">3.14.</strong> 循环</a></li><li class="chapter-item expanded "><a href="3_参考手册/15_模式匹配.html"><strong aria-hidden="true">3.15.</strong> 模式匹配</a></li><li class="chapter-item expanded "><a href="3_参考手册/16_模块.html"><strong aria-hidden="true">3.16.</strong> 模块</a></li><li class="chapter-item expanded "><a href="3_参考手册/17_标记语法.html"><strong aria-hidden="true">3.17.</strong> 标记语法</a></li><li class="chapter-item expanded "><a href="3_参考手册/18_标准库.html"><strong aria-hidden="true">3.18.</strong> 标准库</a></li><li class="chapter-item expanded "><a href="3_参考手册/19_编译器错误代码.html"><strong aria-hidden="true">3.19.</strong> 编译器错误代码</a></li><li class="chapter-item expanded "><a href="3_参考手册/20_编译器使用.html"><strong aria-hidden="true">3.20.</strong> 编译器使用</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">歧语言之书</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/fm-elpac/nb" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>欢迎阅读 《歧语言之书》 !</p>
<p>本书是歧语言的主要文档, 包含入门教程, 参考手册等。</p>
<p><strong>草稿</strong>: 注意目前施工中, 部分内容不完整。</p>
<h2 id="简介"><a class="header" href="#简介">简介</a></h2>
<p>无歧义中文编程语言, 简称 <strong>歧语言</strong> (nb_lang)。</p>
<p>No amBiguous Chinese programming language, short as NB.</p>
<h2 id="主要特点"><a class="header" href="#主要特点">主要特点</a></h2>
<ul>
<li>
<p>基于中文的语法设计, 无空格语法。</p>
<p>现代汉语, 简体中文 (<code>zh_CN</code>)</p>
</li>
<li>
<p>语言设计参考:</p>
<ul>
<li><a href="https://www.python.org/">python</a></li>
<li><a href="https://www.moonbitlang.cn/">月兔 (moonbit)</a></li>
<li><a href="https://www.rust-lang.org/">rust</a></li>
<li>js</li>
</ul>
</li>
<li>
<p>使用的底层技术:</p>
<ul>
<li><a href="https://webassembly.org/">WebAssembly (wasm)</a></li>
<li><a href="https://www.moonbitlang.cn/">月兔 (moonbit)</a></li>
</ul>
</li>
</ul>
<h2 id="栗子"><a class="header" href="#栗子">栗子</a></h2>
<ul>
<li>
<p><code>第一个程序.歧</code></p>
<pre><code>输出 666。
</code></pre>
</li>
<li>
<p><code>循环.歧</code></p>
<pre><code># 这是注释

循环 3 次:
  写 6。

换行。
</code></pre>
</li>
<li>
<p><code>吃货.歧</code></p>
<pre><code>定义类型吃货:
  名字(文本)。

定义吃, 参数自己(吃货)、东西(文本):
  输出 &quot;\(自己的名字)吃了\(东西)&quot;。

# 测试
定义变量窝, 吃货。  # 窝是吃货 ^_^
窝的名字是 &quot;喵喵&quot;。

定义变量饭, &quot;汤面条&quot;。

窝吃饭。  # 喵喵吃了汤面条
</code></pre>
</li>
</ul>
<h2 id="相关链接"><a class="header" href="#相关链接">相关链接</a></h2>
<ul>
<li>
<p>歧语言设计文档: <a href="https://github.com/fm-elpac/nb">https://github.com/fm-elpac/nb</a></p>
</li>
<li>
<p>《歧语言之书》 <a href="https://fm-elpac.github.io/nb">https://fm-elpac.github.io/nb</a></p>
</li>
<li>
<p>歧语言编译器: <a href="https://github.com/fm-elpac/nbc">https://github.com/fm-elpac/nbc</a></p>
</li>
</ul>
<h2 id="license"><a class="header" href="#license">LICENSE</a></h2>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><code>CC-BY-SA 4.0+</code></a></p>
<p>本书使用 CC-BY-SA 4.0 许可发布。
This book is released under CC-BY-SA 4.0 LICENSE.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="常见问题-faq"><a class="header" href="#常见问题-faq">常见问题 (FAQ)</a></h1>
<ul>
<li><a href="1_%E7%AE%80%E4%BB%8B/1_%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E4%B8%AD%E6%96%87%E7%BC%96%E7%A8%8B-">为什么选择中文编程 ?</a></li>
<li><a href="1_%E7%AE%80%E4%BB%8B/1_%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-webassembly-">为什么选择 WebAssembly ?</a></li>
<li><a href="1_%E7%AE%80%E4%BB%8B/1_%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-%E6%9C%88%E5%85%94-">为什么选择 月兔 ?</a></li>
<li><a href="1_%E7%AE%80%E4%BB%8B/1_%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8-%E5%8F%8C%E6%8B%BC-%E8%BE%93%E5%85%A5%E6%B3%95-">为什么推荐使用 双拼 输入法 ?</a></li>
</ul>
<h2 id="为什么选择中文编程-"><a class="header" href="#为什么选择中文编程-">为什么选择中文编程 ?</a></h2>
<p>希望可以提高代码的可读性, 降低编程的学习难度, 让更多的中国人能够编程。</p>
<h2 id="为什么选择-webassembly-"><a class="header" href="#为什么选择-webassembly-">为什么选择 WebAssembly ?</a></h2>
<ul>
<li>
<p><strong>开放标准, 较好的生态与工具支持</strong>:
WebAssembly 是 web 技术 (标准) 的一部分, 被广泛支持和使用。
多种编程语言的代码可以编译成 WebAssembly 运行。
有许多相关的工具可以使用。</p>
</li>
<li>
<p><strong>优秀的跨平台能力, 实现一次编译到处运行</strong>:
几乎所有的硬件设备 (单片机等资源特别少的硬件除外),
CPU, 操作系统, 运行环境等都能运行 WebAssembly。
包括手机, 台式机 (PC), 服务器 (云端) 等。
运行环境有浏览器 (比如 chrome), wasmer, deno, node.js 等。</p>
</li>
<li>
<p><strong>较高的性能</strong>:
WebAssembly 的运行速度接近原生二进制代码 (native C/C++)。</p>
</li>
</ul>
<h2 id="为什么选择-月兔-"><a class="header" href="#为什么选择-月兔-">为什么选择 月兔 ?</a></h2>
<p>歧语言的实现方式为编译成月兔代码。</p>
<ul>
<li>
<p>月兔是国产编程语言, 开源, 更适合中文编程的理念。</p>
</li>
<li>
<p>月兔能够编译成 WebAssembly 或 js, 能够在很广泛的设备/环境中运行。</p>
</li>
<li>
<p>月兔在编译生成代码的大小 (越小越好) 和运行速度 (越快越好) 方面,
表现十分优秀。</p>
</li>
<li>
<p>强大的语言能力, 类似 rust 的语言设计:
自动内存管理 (GC), 闭包 (closure), 枚举 (enum), 模式匹配 (match) 等。</p>
</li>
<li>
<p>更好的生态以及编译工具:
歧语言本身没什么生态, 借助月兔可以缓解生态问题。
如果歧语言从头开发编译工具, 很难达到月兔的水平。</p>
</li>
</ul>
<h2 id="为什么推荐使用-双拼-输入法-"><a class="header" href="#为什么推荐使用-双拼-输入法-">为什么推荐使用 双拼 输入法 ?</a></h2>
<ul>
<li>
<p>相比全拼, 双拼可以显著减少击键次数, 加快输入速度。</p>
</li>
<li>
<p>相比五笔, 双拼的学习难度显著更低。
双拼只比全拼难一点, 通常在一年内即可熟练掌握。</p>
</li>
<li>
<p>双拼的一个大问题, 是存在许多种不同的双拼方案。
在此推荐使用 自然码 方案, 因为自然码的支持很广泛,
各种操作系统基本都内置了对自然码的支持。</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="入门教程"><a class="header" href="#入门教程">入门教程</a></h1>
<p>这里是歧语言的入门教程。</p>
<p>本教程不要求读者有任何编程基础, 也就是不要求读者之前学习过别的编程语言。
(但是要求初中毕业。)
本教程也不要求读者具有英语基础, 也就是不要求词汇量。
(但是要求能读写 26 个英文字母。)</p>
<p>如果日常能够熟练的使用计算机 (PC), 那就更好了 !</p>
<h2 id="关于编程"><a class="header" href="#关于编程">关于编程</a></h2>
<p>计算机是一种强大的工具, 到处都是。
手机, 平板, 台式机 (PC), 笔记本 (PC), 无线路由器, 电视盒子, 机架服务器, 香橙派等,
这些都是计算机设备的具体形式。
全自动洗衣机, 电磁炉, 豆浆机, 空调, 里面也有控制设备运行的小计算机 (单片机)。
汽车, 红绿信号灯, 里面也有计算机 (嵌入式)。</p>
<p>计算机中最核心的部分是中央处理器 (CPU), 中央处理器的工作方式就是执行程序。
也就是说, 程序 (软件) 控制了整个计算机的运行。
计算机的大部分功能也是由软件来实现的, 特别是各种应用软件。</p>
<p>只有学会编程, 才能充分利用计算机的能力。
面对现实世界中无限多的需求, 有限多的现有软件总是显得不够用。
当现有软件不能满足自己的时候, 为自己写代码是一种好选择。</p>
<h2 id="关于学习编程语言"><a class="header" href="#关于学习编程语言">关于学习编程语言</a></h2>
<p>我们使用的编程语言, 大部分时候都是 &quot;高级语言&quot;
(相对于 &quot;汇编语言&quot;, &quot;机器语言&quot; 等低级语言)。</p>
<p>世界上至少有几百种不同的编程语言, 常见的都有几十种。
虽然每种编程语言都有自己的特色, 但是其中的大部分内容都是相同的。
因为这些编程语言最终都运行在相同的计算机硬件上。</p>
<p>所以, 理论上来说, 没有任何编程基础的初学者,
可以选择任意一种编程语言来进行编程入门。
学习第一种编程语言是最困难的, 一旦学会了一种, 再学习新的编程语言就会容易很多。
因为大部分东西都已经学过了。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="网页体验平台"><a class="header" href="#网页体验平台">网页体验平台</a></h1>
<p>为了方便上手体验歧语言, 这里准备了网页体验平台, 只需在浏览器中打开即可使用。</p>
<p>点击链接跳转: (尚未完成)</p>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="本地开发环境搭建"><a class="header" href="#本地开发环境搭建">本地开发环境搭建</a></h1>
<p>众所周知, 学习编程遭遇的第一个巨大困难就是, 在本地搭建相应的开发环境。
在本地搭建开发环境相对是比较复杂的, 特别对于尚未入门的初学者来说。</p>
<p>所以你可以直接跳过本章, 以后再回来研究这个问题。
刚开始学习的时候, 建议直接使用 <a href="2_%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/./1_%E7%BD%91%E9%A1%B5%E4%BD%93%E9%AA%8C%E5%B9%B3%E5%8F%B0.html">网页体验平台</a> 来运行歧语言代码。</p>
<h2 id="安装步骤-windows"><a class="header" href="#安装步骤-windows">安装步骤 (Windows)</a></h2>
<p>好吧, 看来你已经做好充分的心理准备了, 那我们开始吧 !</p>
<p>此处的说明适用于 Windows 10 或更新版本的操作系统。
如果你使用 <code>GNU/Linux</code> 进行开发, <a href="2_%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/2_%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4-gnulinux">请见此处</a>。</p>
<p>TODO</p>
<h2 id="安装步骤-gnulinux"><a class="header" href="#安装步骤-gnulinux">安装步骤 (GNU/Linux)</a></h2>
<p>此处的说明适用于 <code>GNU/Linux</code> 操作系统,
比如 <a href="https://archlinux.org/"><code>ArchLinux</code></a>,
<a href="https://www.debian.org/"><code>Debian</code></a>,
<a href="https://ubuntu.com/desktop"><code>Ubuntu</code></a>,
<a href="https://www.deepin.org/index/zh"><code>深度操作系统deepin</code></a>,
<a href="https://www.fedoraproject.org/"><code>Fedora</code></a>
等。</p>
<p>主要过程:</p>
<ol>
<li>
<p>安装 <code>vscode</code> (建议安装 <code>git</code>)。</p>
</li>
<li>
<p>安装月兔编译工具。</p>
</li>
<li>
<p>安装歧语言编译工具。</p>
</li>
<li>
<p>安装 vscode 插件。</p>
</li>
</ol>
<h3 id="archlinux"><a class="header" href="#archlinux">ArchLinux</a></h3>
<ol>
<li>
<p>安装 vscode 和 git:</p>
<pre><code class="language-sh">&gt; sudo pacman -S code git
</code></pre>
</li>
<li>
<p>安装月兔编译工具:</p>
<p><a href="https://www.moonbitlang.cn/download">https://www.moonbitlang.cn/download</a></p>
<p>验证安装:</p>
<pre><code class="language-sh">&gt; moon version
moon 0.1.0 (eafe8d0 2023-08-29)
moonc 8ed7fec95 /home/s2/.moon/bin/moonc
</code></pre>
</li>
<li>
<p>安装歧语言编译工具:</p>
<p>TODO</p>
</li>
<li>
<p>安装 vscode 插件:</p>
<p>TODO</p>
</li>
</ol>
<h3 id="debian"><a class="header" href="#debian">Debian</a></h3>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第一个程序"><a class="header" href="#第一个程序">第一个程序</a></h1>
<p>万事开头难, 本章的目标是写出第一个能运行的 (简单) 程序, 实现从 0 到 1 的突破 !</p>
<p>(草稿: 尚未实现) 打开 <a href="2_%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/./1_%E7%BD%91%E9%A1%B5%E4%BD%93%E9%AA%8C%E5%B9%B3%E5%8F%B0.html">网页体验平台</a>, 写入如下代码:</p>
<pre><code>输出 666。
</code></pre>
<p>点击 &quot;运行&quot;。</p>
<p>看到输出了嘛 ?  <code>666</code></p>
<p>祝贺你, 已经学会写代码了, 正式成为了一个程序员 !</p>
<p>本章到此结束。</p>
<h2 id="第二个程序"><a class="header" href="#第二个程序">第二个程序</a></h2>
<p>慢着, 既然是程序代码, 就可以 (随便) 修改, 比如:</p>
<pre><code>输出 555。
</code></pre>
<p>比如:</p>
<pre><code>输出 2333。
</code></pre>
<p>比如:</p>
<pre><code>输出 &quot;世界, 你好&quot;。
</code></pre>
<p>程序代码是一行一行按顺序执行的, 比如:</p>
<pre><code>输出 111。
输出 222。
输出 333。
</code></pre>
<p>空白的行会被忽略, 所以可以随意添加空行:</p>
<pre><code>
输出 0。

输出 -2。


输出 3.141592653589793。



</code></pre>
<h2 id="源代码文件"><a class="header" href="#源代码文件">源代码文件</a></h2>
<p>我们写的代码一般叫做 &quot;源代码&quot;, 就是某种方便人类阅读理解的形式。
源代码会被编译器转换成 &quot;目标代码&quot;, 也就是计算机 (CPU) 可以执行的形式。</p>
<p>源代码作为字符串存储在文本文件中, 这种文件叫做 &quot;源文件&quot;。
被编译器编译后, 可以变成 &quot;可执行文件&quot; (二进制文件),
比如 Windows 操作系统中的 <code>.exe</code> 文件 (文件格式为 <code>PE</code>)。
GNU/Linux 操作系统的可执行文件格式为 <code>ELF</code>。</p>
<p>歧语言规定, 源文件必须以 <code>utf-8</code> 编码存储。
歧语言源文件的文件名后缀为 <code>.歧</code>, 比如 <code>第一个程序.歧</code>。</p>
<h2 id="注释和缩进"><a class="header" href="#注释和缩进">注释和缩进</a></h2>
<p>为了让代码更容易阅读, 大部分编程语言都支持注释。
注释就是专门让人类看的, 编译器会忽略注释, 所以注释的内容可以随便写。
代码运行的时候, 就好像注释根本不存在一样。</p>
<p>歧语言的注释以 <code>#</code> 开始, 到一行的末尾结束, 比如:</p>
<pre><code># 这是注释
输出 666。  # 这也是注释 ^_^
# 这还是注释, 吼吼吼 ~
</code></pre>
<p>在下面这个栗子中, 第一行因为是注释, 所以不会运行:</p>
<pre><code>#输出 555。
输出 666。
</code></pre>
<h3 id="缩进"><a class="header" href="#缩进">缩进</a></h3>
<p>歧语言使用缩进来区分代码块。</p>
<p>歧语言规定, 每级缩进必须使用 2 个空格, 比如:</p>
<pre><code>循环 3 次:
  输出 2333。
</code></pre>
<p>注意 &quot;输出&quot; 前面的 2 个空格。</p>
<p>缩进也可能有多个层级, 比如:</p>
<pre><code>循环 3 次:
  输出 100。

  循环 2 次:
    输出 200。

  输出 300。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="变量"><a class="header" href="#变量">变量</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="函数"><a class="header" href="#函数">函数</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="分支"><a class="header" href="#分支">分支</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="循环"><a class="header" href="#循环">循环</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="定义类型"><a class="header" href="#定义类型">定义类型</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="模块与导入导出"><a class="header" href="#模块与导入导出">模块与导入导出</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="输入输出"><a class="header" href="#输入输出">输入输出</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="参考手册"><a class="header" href="#参考手册">参考手册</a></h1>
<p>本参考手册详细描述歧语言的各个方面。</p>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="源代码文件-1"><a class="header" href="#源代码文件-1">源代码文件</a></h1>
<p>歧语言的源文件必须使用 <code>utf-8</code> 编码,
使用 UNIX 风格的换行符 (LF <code>0x0a</code>)。</p>
<p>歧语言的源文件的文件名后缀为 <code>.歧</code>, 比如 <code>测试.歧</code>。</p>
<h2 id="注释"><a class="header" href="#注释">注释</a></h2>
<p>歧语言的注释以 <code>#</code> 开始, 至行尾结束 (类似 python)。</p>
<h2 id="缩进-1"><a class="header" href="#缩进-1">缩进</a></h2>
<p>歧语言使用缩进来区分代码块 (类似 python), 每级缩进必须使用 2 个空格。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="特殊字符"><a class="header" href="#特殊字符">特殊字符</a></h1>
<p>这些字符会被词法分析 (token) 特殊处理:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">数值</th><th style="text-align: left">字符</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left">0x0a</td><td style="text-align: left"><code>\n</code> (换行)</td><td style="text-align: left">分隔不同的文本行</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x20</td><td style="text-align: left"><code> </code> (空格)</td><td style="text-align: left">行首缩进, 以及代码中的空白 (解决歧义: 手动分词)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x22</td><td style="text-align: left"><code>&quot;</code></td><td style="text-align: left">双引号: 用于字符串</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x23</td><td style="text-align: left"><code>#</code></td><td style="text-align: left">注释</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x28</td><td style="text-align: left"><code>(</code></td><td style="text-align: left">小括号: 用于多种语法</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x29</td><td style="text-align: left"><code>)</code></td><td style="text-align: left">小括号: 用于多种语法</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x2c</td><td style="text-align: left"><code>,</code></td><td style="text-align: left">逗号: 用于多种语法</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x3a</td><td style="text-align: left"><code>:</code></td><td style="text-align: left">冒号: 用于代码块, 字典</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x3d</td><td style="text-align: left"><code>=</code></td><td style="text-align: left">等号: 用于赋值语句</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x5b</td><td style="text-align: left"><code>[</code></td><td style="text-align: left">中括号: 用于数组及下标访问</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x5c</td><td style="text-align: left"><code>\</code></td><td style="text-align: left">反斜杠: 字符串转义</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x5d</td><td style="text-align: left"><code>]</code></td><td style="text-align: left">中括号: 用于数组及下标访问</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x60</td><td style="text-align: left">`</td><td style="text-align: left">反引号: 用于解决歧义 (禁止分词)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x7b</td><td style="text-align: left"><code>{</code></td><td style="text-align: left">大括号: 用于字典</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x7d</td><td style="text-align: left"><code>}</code></td><td style="text-align: left">大括号: 用于字典</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x3001</td><td style="text-align: left"><code>、</code></td><td style="text-align: left">顿号: 用于分隔多个项目</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x3002</td><td style="text-align: left"><code>。</code></td><td style="text-align: left">句号: 用于结束语句</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x30 ~ 0x39 0x2e 0x5f</td><td style="text-align: left"><code>0</code> ~ <code>9</code> <code>.</code> <code>_</code></td><td style="text-align: left">用于数字</td><td style="text-align: left"></td></tr>
</tbody></table>
</div>
<p>源代码中禁止出现的 Unicode 字符:</p>
<p>TODO</p>
<h2 id="标识符"><a class="header" href="#标识符">标识符</a></h2>
<p>本节详细说明哪些字符可以作为歧语言的标识符。</p>
<p>歧语言的标识符使用 &quot;黑名单&quot; 策略, 除了特别禁止使用的字符之外,
所有的 Unicode 字符都可以作为标识符的一部分。</p>
<p>单个标识符的长度不得超过 255 个 Unicode 字符。</p>
<h3 id="绝对禁用的字符"><a class="header" href="#绝对禁用的字符">绝对禁用的字符</a></h3>
<p>(编译错误)</p>
<p>以下字符 <strong>绝对</strong> 不能作为标识符的一部分:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">数值</th><th style="text-align: left">字符</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left">0x0a</td><td style="text-align: left"><code>\n</code></td><td style="text-align: left">换行</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x20</td><td style="text-align: left"><code> </code></td><td style="text-align: left">空格</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x5c</td><td style="text-align: left"><code>\</code></td><td style="text-align: left">反斜杠</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x60</td><td style="text-align: left">`</td><td style="text-align: left">反引号</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"></td><td style="text-align: left">控制字符</td><td style="text-align: left">所有 Unicode 控制字符</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: left"></td><td style="text-align: left">空白字符</td><td style="text-align: left">所有 Unicode 空白字符</td><td style="text-align: left">(2)</td></tr>
<tr><td style="text-align: left"></td><td style="text-align: left"></td><td style="text-align: left">其余不能在源代码中使用的字符</td><td style="text-align: left">详见上一节</td></tr>
</tbody></table>
</div>
<p>注:</p>
<ul>
<li>
<p>(1) 控制字符使用 (rust) <a href="https://doc.rust-lang.org/std/primitive.char.html#method.is_control"><code>char.is_control()</code></a> 判断。</p>
</li>
<li>
<p>(2) 空白字符使用 (rust) <a href="https://doc.rust-lang.org/std/primitive.char.html#method.is_whitespace"><code>char.is_whitespace()</code></a> 判断。</p>
</li>
</ul>
<p>以下字符 <strong>绝对</strong> 不能作为标识符的第一个字符:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">数值</th><th style="text-align: left">字符</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left">0x30 ~ 0x39</td><td style="text-align: left"><code>0</code> ~ <code>9</code></td><td style="text-align: left">用于数字的开始</td><td style="text-align: left"></td></tr>
</tbody></table>
</div>
<h3 id="强烈建议不使用的字符"><a class="header" href="#强烈建议不使用的字符">强烈建议不使用的字符</a></h3>
<p>(编译警告)</p>
<p>强烈建议不要使用以下字符作为标识符的一部分:</p>
<ul>
<li>
<p>被词法分析特殊处理的字符:</p>
<p>详见本章开头。</p>
</li>
<li>
<p>与 <code>关键词</code> 冲突:</p>
<p>详见 <a href="3_%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/./4_%E5%85%B3%E9%94%AE%E8%AF%8D.html">关键词</a>。</p>
</li>
</ul>
<p>如果非要作为标识符, 需要用 ` (反引号) 包裹起来, 比如:</p>
<pre><code>定义`定义`
</code></pre>
<h3 id="保证可以作为标识符使用的字符"><a class="header" href="#保证可以作为标识符使用的字符">保证可以作为标识符使用的字符</a></h3>
<p>以下字符 <strong>保证</strong> 可以作为标识符的一部分, 即使在后续歧语言版本 (向后兼容)。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">数值</th><th style="text-align: left">字符</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left">0x30 ~ 0x39</td><td style="text-align: left"><code>0</code> ~ <code>9</code></td><td style="text-align: left">数字</td><td style="text-align: left">不能用作标识符的第一个字符</td></tr>
<tr><td style="text-align: left">0x41 ~ 0x5a 0x61 ~ 0x7a</td><td style="text-align: left"><code>A</code> ~ <code>Z</code> <code>a</code> ~ <code>z</code></td><td style="text-align: left">英文字母</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">0x5f</td><td style="text-align: left"><code>_</code></td><td style="text-align: left">下划线</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"></td><td style="text-align: left">汉字</td><td style="text-align: left">Unicode 中收录的所有汉字</td><td style="text-align: left">不能与 <code>关键词</code> 冲突</td></tr>
</tbody></table>
</div>
<p>对于不做保证的字符, 可以作为标识符使用, 但是当歧语言版本升级之后,
可能不能再用作标识符, 从而导致源代码编译错误 (不保证兼容性)。</p>
<h3 id="标识符的编译"><a class="header" href="#标识符的编译">标识符的编译</a></h3>
<p>当标识符无法直接编译为底层语言 (歧语言的编译目标, 比如 月兔代码)
的标识符的时候, 需要对标识符进行转换处理。
本节说明具体的转换规则。</p>
<ul>
<li>
<p>标识符含有底层语言不支持的字符:</p>
<p>对每个不支持的字符, 取得其 Unicode 编码 (16 进制, 开头没有 <code>0</code>),
替换为如下格式:</p>
<p><code>u{编码}_</code></p>
<p>比如对于字符 <code>。</code> (句号), 替换之后为 <code>u3002_</code>。</p>
</li>
<li>
<p>标识符太长:</p>
<p>如果标识符 (经过上一步处理之后) 的长度超过了底层语言允许的最大值,
对标识符进行截断处理, 然后添加序号 (10 进制, 从 <code>1</code> 开始)
用于区分不同的标识符:</p>
<p><code>__{序号}</code></p>
<p>比如有 2 个超长标识符: <code>超长标识符第一个</code>, <code>超长标识符第二个</code></p>
<p>则转换之后为: <code>超长__1</code>, <code>超长__2</code></p>
<p>即使只有一个超长的标识符, 也要添加序号。</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="内置数据类型"><a class="header" href="#内置数据类型">内置数据类型</a></h1>
<h2 id="简单类型"><a class="header" href="#简单类型">简单类型</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">名称</th><th style="text-align: right">默认值</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>u1</code> <code>二</code></td><td style="text-align: right">0</td><td style="text-align: left">无符号 1 位二进制整数</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: left"><code>u8</code></td><td style="text-align: right">0</td><td style="text-align: left">无符号 8 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>u16</code></td><td style="text-align: right">0</td><td style="text-align: left">无符号 16 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>u32</code></td><td style="text-align: right">0</td><td style="text-align: left">无符号 32 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>u64</code></td><td style="text-align: right">0</td><td style="text-align: left">无符号 64 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>u128</code></td><td style="text-align: right">0</td><td style="text-align: left">无符号 128 位二进制整数</td><td style="text-align: left">(2)</td></tr>
<tr><td style="text-align: left"><code>i8</code></td><td style="text-align: right">0</td><td style="text-align: left">有符号 8 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>i16</code></td><td style="text-align: right">0</td><td style="text-align: left">有符号 16 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>i32</code></td><td style="text-align: right">0</td><td style="text-align: left">有符号 32 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>i64</code></td><td style="text-align: right">0</td><td style="text-align: left">有符号 64 位二进制整数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>i128</code></td><td style="text-align: right">0</td><td style="text-align: left">有符号 128 位二进制整数</td><td style="text-align: left">(2)</td></tr>
<tr><td style="text-align: left"><code>f32</code></td><td style="text-align: right">0</td><td style="text-align: left">32 位浮点数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>f64</code></td><td style="text-align: right">0</td><td style="text-align: left">64 位浮点数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>整数</code></td><td style="text-align: right">0</td><td style="text-align: left">自动类型整数, 默认为 <code>i32</code></td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>实数</code></td><td style="text-align: right">0</td><td style="text-align: left">自动类型浮点数, 默认为 <code>f64</code></td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>数字</code></td><td style="text-align: right">0</td><td style="text-align: left">自动类型数字, 可以是整数也可以是浮点数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>文本</code></td><td style="text-align: right">&quot;&quot;</td><td style="text-align: left">utf-8 字符串, 默认值为长度为 0 的字符串 (空字符串)</td><td style="text-align: left"></td></tr>
</tbody></table>
</div>
<p>注:</p>
<ul>
<li>
<p>(1) 只有 0 和 1 这两个取值, 相当于别的编程语言的布尔类型。</p>
</li>
<li>
<p>(2) 部分编译模式下不支持。</p>
</li>
</ul>
<h2 id="复合类型"><a class="header" href="#复合类型">复合类型</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">名称</th><th style="text-align: right">默认值</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>数组</code></td><td style="text-align: right">[]</td><td style="text-align: left">有顺序的多个同类型数据</td><td style="text-align: left">类似 array / list</td></tr>
<tr><td style="text-align: left"><code>集合</code></td><td style="text-align: right">[]</td><td style="text-align: left">无顺序的多个同类型数据</td><td style="text-align: left">类似 set</td></tr>
<tr><td style="text-align: left"><code>字典</code></td><td style="text-align: right">{}</td><td style="text-align: left">键值对的集合</td><td style="text-align: left">类似 map / dict</td></tr>
<tr><td style="text-align: left"><code>函数</code>()</td><td style="text-align: right"></td><td style="text-align: left">用于函数类型</td><td style="text-align: left">(1)</td></tr>
</tbody></table>
</div>
<p>注:</p>
<ul>
<li>(1) 详见 <a href="3_%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/./8_%E5%87%BD%E6%95%B0.html">函数</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="关键词"><a class="header" href="#关键词">关键词</a></h1>
<h2 id="语句关键词"><a class="header" href="#语句关键词">语句关键词</a></h2>
<p>在语句中使用的关键词。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">关键词</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>的</code></td><td style="text-align: left">访问成员变量</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>是</code></td><td style="text-align: left">赋值语句</td><td style="text-align: left"></td></tr>
</tbody></table>
</div>
<h2 id="行首关键词"><a class="header" href="#行首关键词">行首关键词</a></h2>
<p>只在行首使用的关键词。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">关键词</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>定义</code></td><td style="text-align: left">定义函数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>定义类型</code></td><td style="text-align: left">定义新的数据类型 (结构体)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>定义枚举</code></td><td style="text-align: left">枚举</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>定义变量</code></td><td style="text-align: left">定义变量</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>定义常量</code></td><td style="text-align: left">定义不可变变量</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>设</code></td><td style="text-align: left">定义变量并赋值</td><td style="text-align: left">比如 <code>设 x = 1</code></td></tr>
<tr><td style="text-align: left"><code>导入</code></td><td style="text-align: left">导入别的模块的东西</td><td style="text-align: left">类似 js</td></tr>
<tr><td style="text-align: left"><code>导出</code></td><td style="text-align: left">导出本模块的东西</td><td style="text-align: left">类似 js</td></tr>
<tr><td style="text-align: left"><code>返回</code></td><td style="text-align: left">函数返回</td><td style="text-align: left">类似 <code>return</code></td></tr>
<tr><td style="text-align: left"><code>循环</code></td><td style="text-align: left">循环语句</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>破</code></td><td style="text-align: left">跳出当前循环</td><td style="text-align: left">类似 <code>break</code></td></tr>
<tr><td style="text-align: left"><code>破 0</code></td><td style="text-align: left">提前结束本次循环, 继续下一次循环</td><td style="text-align: left">类似 <code>continue</code></td></tr>
<tr><td style="text-align: left"><code>若</code></td><td style="text-align: left">分支语句</td><td style="text-align: left">类似 <code>if</code></td></tr>
<tr><td style="text-align: left"><code>另</code></td><td style="text-align: left">分支语句</td><td style="text-align: left">类似 <code>else</code></td></tr>
<tr><td style="text-align: left"><code>另若</code></td><td style="text-align: left">分支语句</td><td style="text-align: left">类似 <code>else if</code></td></tr>
<tr><td style="text-align: left"><code>匹配</code></td><td style="text-align: left">分支语句: 模式匹配</td><td style="text-align: left">类似 <code>match</code></td></tr>
</tbody></table>
</div>
<h2 id="条件关键词"><a class="header" href="#条件关键词">条件关键词</a></h2>
<p>在特定条件下作为关键词。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">关键词</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>参数</code></td><td style="text-align: left">函数的参数列表</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>标记</code></td><td style="text-align: left">标记语法</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>泛型</code></td><td style="text-align: left">泛型</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>次</code></td><td style="text-align: left">循环语句: 指定循环次数</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>至</code></td><td style="text-align: left">循环语句: 范围循环 (不包括结束值)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>到</code></td><td style="text-align: left">循环语句: 范围循环 (包括结束值)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>步长</code></td><td style="text-align: left">循环语句: 范围循环 (指定步长)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>变量</code></td><td style="text-align: left">循环语句: 设置循环变量</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left"><code>全部</code></td><td style="text-align: left">导入/导出全部</td><td style="text-align: left"></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="字符串"><a class="header" href="#字符串">字符串</a></h1>
<p>字符串 (字面量) 的格式。</p>
<p>使用 <code>&quot;</code> (双引号) 字符来标记字符串的开始和结束。</p>
<p>比如:</p>
<pre><code>&quot;测试 666&quot;
</code></pre>
<p>字符串不允许换行, 必须在同一行结束。</p>
<h2 id="转义字符"><a class="header" href="#转义字符">转义字符</a></h2>
<p>使用 <code>\</code> (反斜杠) 表示转义字符。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">形式</th><th style="text-align: left">说明</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>\\</code></td><td style="text-align: left">表示 <code>\</code> 字符 (转义字符自己)</td></tr>
<tr><td style="text-align: left"><code>\&quot;</code></td><td style="text-align: left">表示 <code>&quot;</code> 字符 (避免与字符串结束字符冲突)</td></tr>
<tr><td style="text-align: left"><code>\n</code></td><td style="text-align: left">表示换行 (LF)</td></tr>
<tr><td style="text-align: left"><code>\(</code></td><td style="text-align: left">字符串插值</td></tr>
<tr><td style="text-align: left"><code>\[</code></td><td style="text-align: left">插入 Unicode 编码</td></tr>
</tbody></table>
</div>
<h2 id="字符串插值"><a class="header" href="#字符串插值">字符串插值</a></h2>
<p>此处的设计类似 月兔 (moonbit) 语言。</p>
<p>比如:</p>
<pre><code class="language-歧">定义变量测试, 666。

输出 &quot;测试的值是 \(测试)&quot;。
</code></pre>
<p>将 <code>\(</code> 和 <code>)</code> 之间的部分替换为对应表达式的值。</p>
<h2 id="插入-unicode-编码"><a class="header" href="#插入-unicode-编码">插入 Unicode 编码</a></h2>
<p>语法类似数组, 插入字符的 Unicode 编码 (16 进制)。
这个可用于任意 Unicode 字符, 特别是源代码中禁止使用的。</p>
<p>比如 <code>、</code> (顿号) 可以表示为:</p>
<pre><code>&quot;\[3001]&quot;
</code></pre>
<p>可以连续插入多个字符, 比如 <code>、。</code> 可以表示为:</p>
<pre><code>&quot;\[3001, 3002]&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="数字"><a class="header" href="#数字">数字</a></h1>
<p>源代码中数字 (字面量) 的格式。</p>
<p>歧语言支持以下几种数字格式:</p>
<ul>
<li>
<p>10 进制整数</p>
</li>
<li>
<p>16 进制整数</p>
</li>
<li>
<p>2 进制整数</p>
</li>
<li>
<p>8 进制整数</p>
</li>
<li>
<p>小数 (浮点数)</p>
</li>
</ul>
<h2 id="10-进制整数"><a class="header" href="#10-进制整数">10 进制整数</a></h2>
<p>允许使用的字符: <code>0123456789</code></p>
<p>比如:</p>
<pre><code>666
</code></pre>
<p>负数:</p>
<pre><code>-3
</code></pre>
<h2 id="16-进制整数"><a class="header" href="#16-进制整数">16 进制整数</a></h2>
<p>允许使用的字符: <code>0123456789abcdef</code></p>
<p>必须以 <code>0x</code> 开头。</p>
<p>比如:</p>
<pre><code>0x0d0a
</code></pre>
<p>不支持负数形式。</p>
<p>字符对照表:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: right">16 进制字符</th><th style="text-align: right">10 进制的数值</th></tr></thead><tbody>
<tr><td style="text-align: right"><code>0</code></td><td style="text-align: right">0</td></tr>
<tr><td style="text-align: right"><code>1</code></td><td style="text-align: right">1</td></tr>
<tr><td style="text-align: right"><code>2</code></td><td style="text-align: right">2</td></tr>
<tr><td style="text-align: right"><code>3</code></td><td style="text-align: right">3</td></tr>
<tr><td style="text-align: right"><code>4</code></td><td style="text-align: right">4</td></tr>
<tr><td style="text-align: right"><code>5</code></td><td style="text-align: right">5</td></tr>
<tr><td style="text-align: right"><code>6</code></td><td style="text-align: right">6</td></tr>
<tr><td style="text-align: right"><code>7</code></td><td style="text-align: right">7</td></tr>
<tr><td style="text-align: right"><code>8</code></td><td style="text-align: right">8</td></tr>
<tr><td style="text-align: right"><code>9</code></td><td style="text-align: right">9</td></tr>
<tr><td style="text-align: right"><code>a</code></td><td style="text-align: right">10</td></tr>
<tr><td style="text-align: right"><code>b</code></td><td style="text-align: right">11</td></tr>
<tr><td style="text-align: right"><code>c</code></td><td style="text-align: right">12</td></tr>
<tr><td style="text-align: right"><code>d</code></td><td style="text-align: right">13</td></tr>
<tr><td style="text-align: right"><code>e</code></td><td style="text-align: right">14</td></tr>
<tr><td style="text-align: right"><code>f</code></td><td style="text-align: right">15</td></tr>
</tbody></table>
</div>
<h2 id="2-进制整数"><a class="header" href="#2-进制整数">2 进制整数</a></h2>
<p>允许使用的字符: <code>01</code></p>
<p>必须以 <code>0b</code> 开头。</p>
<p>比如:</p>
<pre><code>0b01010100
</code></pre>
<p>不支持负数形式。</p>
<h2 id="8-进制整数"><a class="header" href="#8-进制整数">8 进制整数</a></h2>
<p>允许使用的字符: <code>01234567</code></p>
<p>必须以 <code>0o</code> 开头。</p>
<p>比如:</p>
<pre><code>0o755
</code></pre>
<p>不支持负数形式。</p>
<h2 id="下划线"><a class="header" href="#下划线">下划线</a></h2>
<p>可以使用下划线来分隔数字的值, 增加可读性, 比如:</p>
<pre><code>1234_5678_9012
</code></pre>
<p>下划线会被编译器忽略。</p>
<h2 id="小数"><a class="header" href="#小数">小数</a></h2>
<p>只支持 10 进制形式。</p>
<ul>
<li>
<p>普通小数: 小数点 (<code>.</code>) 前后必须至少有一个数字。</p>
<p>比如 <code>0.1</code> 和 <code>1.0</code> 其中的 <code>0</code> 都不可省略。</p>
<p>负数:</p>
<pre><code>-2.1
</code></pre>
</li>
<li>
<p>科学计数法: 使用字符 <code>e</code> 来表示指数。</p>
<p>使用指数时, 小数点是可选的, 比如:</p>
<pre><code>1e3
</code></pre>
<p>指数为负数:</p>
<pre><code>5.79e-3
</code></pre>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="变量-1"><a class="header" href="#变量-1">变量</a></h1>
<p>完整格式 (关键词 <code>定义变量</code>):</p>
<pre><code>定义变量名称(类型), 初始值。
</code></pre>
<ul>
<li>
<p>自动推断类型 (省略类型):</p>
<pre><code>定义变量名称, 初始值。
</code></pre>
</li>
<li>
<p>使用默认值 (省略初始值):</p>
<pre><code>定义变量名称(类型)。
</code></pre>
</li>
</ul>
<h2 id="语法糖"><a class="header" href="#语法糖">语法糖</a></h2>
<p>简洁形式 (关键词 <code>设</code>):</p>
<pre><code>设名称 = 值
</code></pre>
<p>相当于:</p>
<pre><code>定义变量名称, 值。
</code></pre>
<h2 id="变量覆盖"><a class="header" href="#变量覆盖">变量覆盖</a></h2>
<p>如果重复定义同名变量, 则后定义的变量覆盖前面的变量。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="函数-1"><a class="header" href="#函数-1">函数</a></h1>
<h2 id="定义函数"><a class="header" href="#定义函数">定义函数</a></h2>
<p>完整格式 (关键词 <code>定义</code>, <code>参数</code>, <code>泛型</code>):</p>
<pre><code>定义名称(返回类型), 参数列表, 泛型列表:
  # 函数体
</code></pre>
<p>其中返回类型, 参数, 泛型都是可选的。</p>
<ul>
<li>
<p>没有返回值, 不使用泛型:</p>
<pre><code>定义名称, 参数列表:
  # 函数体
</code></pre>
</li>
<li>
<p>没有参数:</p>
<pre><code>定义名称:
  # 函数体
</code></pre>
</li>
</ul>
<p>比如:</p>
<pre><code>定义测试(文本), 参数自己(T)、东西(文本), 泛型T:
  # 函数体
</code></pre>
<p>多个参数, 多个泛型, 之间使用 <code>、</code> (顿号) 分隔。</p>
<p>每个参数都必须标注类型。</p>
<h2 id="函数返回"><a class="header" href="#函数返回">函数返回</a></h2>
<p>关键词 <code>返回</code>。</p>
<ul>
<li>
<p>自动返回, 比如:</p>
<pre><code>定义后继(数字), 参数值(数字):
  值 + 1
</code></pre>
<p>函数最后一个表达式的值自动返回。</p>
</li>
<li>
<p>提前返回, 比如:</p>
<pre><code>定义测试(数字):
  返回 6。  # 提前返回

  5  # 不会返回这个
</code></pre>
<p>没有返回值的提前返回:</p>
<pre><code>定义测试:
  返回。  # 此处
</code></pre>
</li>
</ul>
<h2 id="函数的重载和覆盖"><a class="header" href="#函数的重载和覆盖">函数的重载和覆盖</a></h2>
<p>函数具有特殊的命名空间:</p>
<ul>
<li>
<p>函数的重载:
多个不同类型 (参数不同) 的函数可以共享相同的函数名称,
调用函数时, 编译器自动根据所需类型选择相应的函数。</p>
<p>不同的参数个数, 不同的参数类型, 不同的返回值类型,
都可以构成函数重载。</p>
</li>
<li>
<p>函数可以和数据类型具有相同的名称。</p>
</li>
<li>
<p>函数的覆盖:
如果两个函数具有相同的类型 (参数类型和返回类型), 以及相同的名称,
那么后定义的函数将覆盖先定义的函数。</p>
<p>在后定义的函数定义位置之前, 使用先定义的函数。
在后定义的函数定义位置之后, 使用后定义的函数。</p>
</li>
</ul>
<h2 id="调用函数"><a class="header" href="#调用函数">调用函数</a></h2>
<ul>
<li>
<p>没有参数, 比如:</p>
<pre><code>定义问好:
  # 函数体

问好。  # 调用
</code></pre>
<p>直接使用函数名称调用函数。</p>
</li>
<li>
<p>有参数, 比如:</p>
<pre><code>定义绘制矩形, 参数长(数字)、宽(数字):
  # 函数体

绘制矩形 2、3。  # 调用
</code></pre>
<p>多个传递的参数之间使用 <code>、</code> (顿号) 分隔。</p>
</li>
<li>
<p>不调用函数, 比如:</p>
<pre><code>定义测试:
  # 函数体

定义变量不调用, (测试)。  # 将函数存储在变量里
</code></pre>
<p>使用 <code>(</code> <code>)</code> (小括号) 直接包裹函数名称, 表示取函数本身, 而不是调用。</p>
</li>
</ul>
<h3 id="链式调用"><a class="header" href="#链式调用">链式调用</a></h3>
<p>逗号语句。</p>
<ul>
<li>
<p><strong>主-谓</strong> 语法 (主谓宾)</p>
<p>比如:</p>
<pre><code>定义变量次数(数字), 2。

定义增加(数字), 参数原值(数字):
  原值 + 1

次数增加。  # 相当于 `增加次数`
</code></pre>
<p>如果函数的第一个参数的类型和变量的类型相同,
代码 <code>变量名函数名</code> 相当于调用函数, 同时将变量作为函数的第一个参数传递。</p>
<p>函数的其余参数需要手动传递 (宾), 比如:</p>
<pre><code>定义变量计数, 5。

定义增加, 参数原值(数字)、变动(数字):
  输出(原值 + 变动)。

计数增加 3。  # 8
</code></pre>
</li>
<li>
<p>链式调用: 将前一个表达式的值作为下一个表达式的 <strong>主</strong>语 部分。</p>
<p>比如:</p>
<pre><code>定义加(数字), 参数左(数字)、右(数字):
  左 + 右

定义乘(数字), 参数左(数字)、右(数字):
  左 * 右

定义数值, 1。

# 测试
数值加 1, 乘 2, 加 3, 乘 4。  # 相当于 (((1 + 1) * 2) + 3) * 4

数值, 加 1, 乘 2, 加 3, 乘 4。  # 这样写也可以
</code></pre>
</li>
</ul>
<h2 id="标记语法"><a class="header" href="#标记语法">标记语法</a></h2>
<p>函数定义可以使用多种标记, 比如:</p>
<pre><code>定义输出, 参数东西(文本), 标记内部。
</code></pre>
<h2 id="函数类型"><a class="header" href="#函数类型">函数类型</a></h2>
<p>函数对应的数据类型。</p>
<p>比如:</p>
<pre><code>定义计算(数字), 参数体积(数字)、质量(数字):
  # 函数体
</code></pre>
<p>对应的类型是:</p>
<pre><code>函数(数字, 数字、数字)
</code></pre>
<ul>
<li>
<p>格式:</p>
<pre><code>函数(返回类型, 参数类型列表)
</code></pre>
</li>
<li>
<p>如果没有返回值, 比如:</p>
<pre><code>定义输出, 参数东西(文本):
  # 函数体
</code></pre>
<p>对应的类型是:</p>
<pre><code>函数(文本)
</code></pre>
</li>
<li>
<p>没有参数, 但是有返回值, 比如:</p>
<pre><code>定义加载配置(文本):
  # 函数体
</code></pre>
<p>对应的类型是:</p>
<pre><code>函数(文本,)
</code></pre>
</li>
</ul>
<h2 id="函数的闭包"><a class="header" href="#函数的闭包">函数的闭包</a></h2>
<p>类似于 月兔 (moonbit) 的闭包 (closure)。</p>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="内置函数"><a class="header" href="#内置函数">内置函数</a></h1>
<p>标准库内置的函数 (默认导入)。</p>
<h2 id="标准输出"><a class="header" href="#标准输出">标准输出</a></h2>
<p>输出文本到标准输出 (默认输出)。</p>
<ul>
<li>
<pre><code>定义输出, 参数东西(文本), 标记内部, 标记自动类型转换。
</code></pre>
<p>输出文本, 自动换行。</p>
</li>
<li>
<pre><code>定义写, 参数东西(文本), 标记内部, 标记自动类型转换。
</code></pre>
<p>输出文本, 不换行。</p>
</li>
<li>
<pre><code>定义换行, 标记内部。
</code></pre>
<p>输出换行 (<code>&quot;\n&quot;</code>)。</p>
</li>
</ul>
<h2 id="标准输入"><a class="header" href="#标准输入">标准输入</a></h2>
<p>默认输入数据。</p>
<ul>
<li>
<pre><code>定义输入参数(数组(文本)), 标记内部。
</code></pre>
<p>返回命令行参数 (数组)。
如果没有参数, 返回空数组 (<code>[]</code>)。</p>
</li>
<li>
<pre><code>定义输入环境变量(文本), 参数名称(文本), 标记内部。
</code></pre>
<p>读取指定名称的环境变量。
如果环境变量不存在, 或读取失败, 返回空字符串 (<code>&quot;&quot;</code>)。</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="定义类型和枚举"><a class="header" href="#定义类型和枚举">定义类型和枚举</a></h1>
<h2 id="定义类型-1"><a class="header" href="#定义类型-1">定义类型</a></h2>
<p>关键词 <code>定义类型</code>。</p>
<p>自定义数据类型 (结构体)。
类似 rust 的 <code>struct</code>。</p>
<p>格式:</p>
<pre><code>定义类型名称, 泛型列表:
  成员名称(类型)。
</code></pre>
<p>其中泛型是可选的, 比如:</p>
<pre><code>定义类型吃货:
  名称(文本)。
  身高(数字)。
  体重(数字)。
</code></pre>
<h2 id="定义枚举"><a class="header" href="#定义枚举">定义枚举</a></h2>
<p>关键词 <code>定义枚举</code>。</p>
<p>枚举数据类型。
类似 rust 的 <code>enum</code>。</p>
<p>格式:</p>
<pre><code>定义枚举名称, 泛型列表:
  枚举项名称(类型)。
</code></pre>
<p>其中类型是可选的, 比如:</p>
<pre><code>定义枚举可选, 泛型T:
  无。
  有(T)。
</code></pre>
<p>不使用泛型:</p>
<pre><code>定义枚举水果:
  苹果。
  香蕉。
  橘子。
  西瓜。
</code></pre>
<h2 id="类型别名"><a class="header" href="#类型别名">类型别名</a></h2>
<p>格式:</p>
<pre><code>定义类型名称, 原类型。
</code></pre>
<p>比如:</p>
<pre><code>定义类型二, u1。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="运算符"><a class="header" href="#运算符">运算符</a></h1>
<p>歧语言的内置运算符:</p>
<ul>
<li>赋值</li>
<li>中间运算符</li>
<li>前运算符</li>
<li>比较运算符</li>
</ul>
<p>除了赋值, 歧语言的运算符其实都是函数。</p>
<h2 id="运算符的优先级和结合性"><a class="header" href="#运算符的优先级和结合性">运算符的优先级和结合性</a></h2>
<p>小括号 <code>(</code> <code>)</code> 表示优先级最高的运算:
总是先计算小括号里面的表达式。</p>
<p>歧语言运算符的优先级取值范围 <code>0</code> ~ <code>255</code>, 其中 <code>0</code> 表示最高优先级。</p>
<p>歧语言的内置运算符具有默认优先级 (标准库定义), 改变运算符优先级详见 <a href="3_%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/11_%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%90%E7%AE%97%E7%AC%A6">自定义运算符</a>。</p>
<p>处理小括号之后, 优先级高的运算符先结合运算。
同级运算符从左至右依次运算。</p>
<p>由于运算符可以自定义, 运算符的优先级也可以自定义,
为了避免歧义 (不清楚先算哪个后算哪个), 建议多使用小括号。</p>
<h2 id="内置-赋值"><a class="header" href="#内置-赋值">内置: 赋值</a></h2>
<p>赋值运算符。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">运算符</th><th style="text-align: right">默认优先级</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: center"><code>+=</code></td><td style="text-align: right">100</td><td style="text-align: left">加 (算术运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>-=</code></td><td style="text-align: right">100</td><td style="text-align: left">减 (算术运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>*=</code></td><td style="text-align: right">100</td><td style="text-align: left">乘 (算术运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>/=</code></td><td style="text-align: right">100</td><td style="text-align: left">除 (算术运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>%=</code></td><td style="text-align: right">100</td><td style="text-align: left">求余 (算术运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&amp;=</code></td><td style="text-align: right">100</td><td style="text-align: left">与 (位运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center">|=</td><td style="text-align: right">100</td><td style="text-align: left">或 (位运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>^=</code></td><td style="text-align: right">100</td><td style="text-align: left">异或 (位运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&lt;&lt;=</code></td><td style="text-align: right">100</td><td style="text-align: left">向左位移 (位运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&gt;&gt;=</code></td><td style="text-align: right">100</td><td style="text-align: left">向右位移 (位运算) 然后赋值</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&gt;&gt;&gt;=</code></td><td style="text-align: right">100</td><td style="text-align: left">带符号向右位移 (位运算) 然后赋值</td><td style="text-align: left">(1)</td></tr>
</tbody></table>
</div>
<p>注:</p>
<ul>
<li>(1) 只用于有符号整数。</li>
</ul>
<p>赋值运算符的左侧为变量名 (或变量表达式), 右侧为表达式。
赋值运算符只能使用数字类型。
位运算只能用于整数。</p>
<p>含有赋值运算符的代码行是 <code>赋值语句</code>, 所以一行代码中最多只能出现一个赋值运算符。</p>
<p>赋值运算符是一种语法糖, 比如 <code>x += 1</code> 相当于 <code>x = x + 1</code>。</p>
<h2 id="内置-中间运算符"><a class="header" href="#内置-中间运算符">内置: 中间运算符</a></h2>
<p>具有 <code>左</code>, <code>右</code> 两个参数。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">运算符</th><th style="text-align: right">默认优先级</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: center"><code>+</code></td><td style="text-align: right">30</td><td style="text-align: left">加 (算术运算)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>-</code></td><td style="text-align: right">30</td><td style="text-align: left">减 (算术运算)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>*</code></td><td style="text-align: right">20</td><td style="text-align: left">乘 (算术运算)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>/</code></td><td style="text-align: right">20</td><td style="text-align: left">除 (算术运算)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>%</code></td><td style="text-align: right">20</td><td style="text-align: left">求余 (算术运算)</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&amp;</code></td><td style="text-align: right">60</td><td style="text-align: left">与 (位运算)</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: center">|</td><td style="text-align: right">60</td><td style="text-align: left">或 (位运算)</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: center"><code>^</code></td><td style="text-align: right">60</td><td style="text-align: left">异或 (位运算)</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: center"><code>&lt;&lt;</code></td><td style="text-align: right">20</td><td style="text-align: left">向左位移 (位运算)</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: center"><code>&gt;&gt;</code></td><td style="text-align: right">20</td><td style="text-align: left">向右位移 (位运算)</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: center"><code>&gt;&gt;&gt;</code></td><td style="text-align: right">20</td><td style="text-align: left">带符号向右位移 (位运算)</td><td style="text-align: left">(1) (2)</td></tr>
</tbody></table>
</div>
<p>注:</p>
<ul>
<li>
<p>(1) 位运算只能用于整数。</p>
</li>
<li>
<p>(2) 只能用于有符号整数。</p>
</li>
</ul>
<p>这些运算符只能用于数字类型。</p>
<h3 id="位运算函数表"><a class="header" href="#位运算函数表">位运算函数表</a></h3>
<p>此处介绍位运算的规则。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">运算符</th><th style="text-align: right">左</th><th style="text-align: right">右</th><th style="text-align: right">结果</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: center"><code>&amp;</code></td><td style="text-align: right">0</td><td style="text-align: right">0</td><td style="text-align: right">0</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&amp;</code></td><td style="text-align: right">0</td><td style="text-align: right">1</td><td style="text-align: right">0</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&amp;</code></td><td style="text-align: right">1</td><td style="text-align: right">0</td><td style="text-align: right">0</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>&amp;</code></td><td style="text-align: right">1</td><td style="text-align: right">1</td><td style="text-align: right">1</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center">|</td><td style="text-align: right">0</td><td style="text-align: right">0</td><td style="text-align: right">0</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center">|</td><td style="text-align: right">0</td><td style="text-align: right">1</td><td style="text-align: right">1</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center">|</td><td style="text-align: right">1</td><td style="text-align: right">0</td><td style="text-align: right">1</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center">|</td><td style="text-align: right">1</td><td style="text-align: right">1</td><td style="text-align: right">1</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>^</code></td><td style="text-align: right">0</td><td style="text-align: right">0</td><td style="text-align: right">0</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>^</code></td><td style="text-align: right">0</td><td style="text-align: right">1</td><td style="text-align: right">1</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>^</code></td><td style="text-align: right">1</td><td style="text-align: right">0</td><td style="text-align: right">1</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>^</code></td><td style="text-align: right">1</td><td style="text-align: right">1</td><td style="text-align: right">0</td><td style="text-align: left"></td></tr>
</tbody></table>
</div>
<ul>
<li>
<p>与运算 (<code>&amp;</code>): 全部输入为 <code>1</code> 结果才为 <code>1</code>。</p>
</li>
<li>
<p>或运算 (<code>|</code>): 只要有一个输入为 <code>1</code> 结果就为 <code>1</code>。</p>
</li>
<li>
<p>异或 (<code>^</code>): 相同为 <code>0</code>, 不同为 <code>1</code>。</p>
</li>
</ul>
<h2 id="内置-前运算符"><a class="header" href="#内置-前运算符">内置: 前运算符</a></h2>
<p>只有后面一个参数。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">运算符</th><th style="text-align: right">默认优先级</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>+</code></td><td style="text-align: right">10</td><td style="text-align: left">正 (算术运算)</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: left"><code>-</code></td><td style="text-align: right">10</td><td style="text-align: left">负 (算术运算)</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: left"><code>~</code></td><td style="text-align: right">10</td><td style="text-align: left">非 (位运算)</td><td style="text-align: left">(2)</td></tr>
</tbody></table>
</div>
<p>注:</p>
<ul>
<li>
<p>(1) 只能用于数字。</p>
</li>
<li>
<p>(2) 只能用于整数。</p>
</li>
</ul>
<h3 id="位运算函数表-1"><a class="header" href="#位运算函数表-1">位运算函数表</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">运算符</th><th style="text-align: right">输入</th><th style="text-align: right">结果</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: center"><code>~</code></td><td style="text-align: right">0</td><td style="text-align: right">1</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: center"><code>~</code></td><td style="text-align: right">1</td><td style="text-align: right">0</td><td style="text-align: left"></td></tr>
</tbody></table>
</div>
<h2 id="内置-比较运算符"><a class="header" href="#内置-比较运算符">内置: 比较运算符</a></h2>
<p>具有 <code>左</code>, <code>右</code> 两个参数, 是一种特殊的中间运算符。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">运算符</th><th style="text-align: right">默认优先级</th><th style="text-align: left">说明</th><th style="text-align: left">备注</th></tr></thead><tbody>
<tr><td style="text-align: center"><code>==</code></td><td style="text-align: right">50</td><td style="text-align: left">相等</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: center"><code>!=</code></td><td style="text-align: right">50</td><td style="text-align: left">不等</td><td style="text-align: left">(1)</td></tr>
<tr><td style="text-align: center"><code>&gt;</code></td><td style="text-align: right">50</td><td style="text-align: left">大于</td><td style="text-align: left">(2)</td></tr>
<tr><td style="text-align: center"><code>&lt;</code></td><td style="text-align: right">50</td><td style="text-align: left">小于</td><td style="text-align: left">(2)</td></tr>
<tr><td style="text-align: center"><code>&gt;=</code></td><td style="text-align: right">50</td><td style="text-align: left">大于或等于</td><td style="text-align: left">(2)</td></tr>
<tr><td style="text-align: center"><code>&lt;=</code></td><td style="text-align: right">50</td><td style="text-align: left">小于或等于</td><td style="text-align: left">(2)</td></tr>
</tbody></table>
</div>
<p>注:</p>
<ul>
<li>
<p>(1) 只能用于比较两个相同数据类型的东西。
如果数据类型不同, 需要先转换数据类型。</p>
</li>
<li>
<p>(2) 只能用于数字。</p>
</li>
</ul>
<p>比较运算符 (函数) 的返回值类型是 <code>二</code> (<code>u1</code>)。</p>
<h2 id="自定义运算符"><a class="header" href="#自定义运算符">自定义运算符</a></h2>
<p>内置运算符是定义在标准库中的函数 (默认导入), 比如:</p>
<pre><code>定义*(数字), 参数左(数字)、右(数字), 标记内部, 标记运算符(20)。
</code></pre>
<p>由于函数的重载和覆盖特性 (详见 <a href="3_%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/./8_%E5%87%BD%E6%95%B0.html">函数</a>),
可以自定义新的运算符, 或者修改内置运算符的优先级。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="表达式和语句"><a class="header" href="#表达式和语句">表达式和语句</a></h1>
<p>歧语言区分表达式和语句:</p>
<ul>
<li>
<p>表达式有值 (类型), 语句没有值。</p>
</li>
<li>
<p>语句一般以 <code>。</code> (句号) 结尾 (含有 <code>=</code> 的赋值语句除外)。</p>
</li>
<li>
<p>一行最多只能写一个语句。</p>
</li>
<li>
<p>表达式 + 句号, 就可以变成语句。</p>
</li>
</ul>
<p>表达式有:</p>
<ul>
<li>
<p>字面量: 数字, 字符串, 数组, 字典</p>
</li>
<li>
<p>变量表达式: 访问变量的值</p>
</li>
<li>
<p>函数调用表达式: 调用函数</p>
</li>
<li>
<p>分支</p>
</li>
<li>
<p>模式匹配</p>
</li>
</ul>
<p>语句有:</p>
<ul>
<li>
<p>定义语句: 定义函数, 定义变量, 定义类型, 定义枚举 等</p>
</li>
<li>
<p>赋值语句: 给变量赋值</p>
</li>
<li>
<p>普通语句: 表达式 + 句号</p>
</li>
<li>
<p>逗号语句: 链式调用函数</p>
</li>
<li>
<p>循环语句</p>
</li>
<li>
<p>导入语句, 导出语句</p>
</li>
</ul>
<h2 id="赋值语句"><a class="header" href="#赋值语句">赋值语句</a></h2>
<ul>
<li>
<p>使用关键词 <code>是</code> 的赋值语句, 比如:</p>
<pre><code>定义变量昵称(文本)。

昵称是 &quot;喵喵&quot;。  # 此处
</code></pre>
<p>左侧是变量 (或变量表达式), 右侧是表达式, 以句号结尾。</p>
</li>
<li>
<p>使用 <code>=</code> 的赋值语句, 比如:</p>
<pre><code>定义变量昵称(文本)。

昵称 = &quot;喵喵&quot;  # 此处
</code></pre>
<p>左侧是变量, 右侧是表达式, 结尾没有句号。</p>
</li>
<li>
<p>定义变量并赋值 (<code>设</code>), 比如:</p>
<pre><code>设 x = 1  # 此处

输出x。
</code></pre>
<p>结尾没有句号。</p>
</li>
<li>
<p>赋值运算的赋值语句, 比如:</p>
<pre><code>定义变量x, 2。

x += 1  # 此处
</code></pre>
<p>结尾没有句号。</p>
</li>
</ul>
<h2 id="变量表达式"><a class="header" href="#变量表达式">变量表达式</a></h2>
<ul>
<li>
<p>变量名, 比如:</p>
<pre><code>定义变量测试, 666。

测试  # 此处
</code></pre>
</li>
<li>
<p>访问成员变量, 关键词 <code>的</code>, 比如:</p>
<pre><code>定义类型吃货:
  体重(数字)。

定义变量窝, 吃货。

窝的体重  # 此处
</code></pre>
<p>可以多层访问, 比如:</p>
<pre><code>定义类型身高体重指数:
  身高(数字)。
  体重(数字)。

定义类型吃货:
  名称(文本)。
  指数(身高体重指数)。

定义变量窝, 吃货。

窝的指数的体重  # 此处
</code></pre>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="分支-1"><a class="header" href="#分支-1">分支</a></h1>
<p>关键词 <code>若</code>, <code>另</code>, <code>另若</code>。</p>
<p>完整格式 (连续多分支):</p>
<pre><code>若条件1:
  # 代码块
另若条件2:
  # 代码块
另:
  # 代码块
</code></pre>
<p>单个二分支:</p>
<pre><code>若条件:
  # 代码块
另:
  # 代码块
</code></pre>
<p>没有另分支:</p>
<pre><code>若条件:
  # 代码块
</code></pre>
<p>条件是表达式, 其值的类型必须是 <code>二</code> (<code>u1</code>)。
当条件的值为 <code>1</code> 时, 执行 <code>若</code> 代码块。
当条件的值为 <code>0</code> 时, 执行 <code>另</code> 代码块。</p>
<p>分支是表达式, 所有代码块的返回值类型必须相同。</p>
<p>比如:</p>
<pre><code>定义检测质量(文本), 参数分数(数字):
  若分数 &gt; 80:
    &quot;一等品&quot;
  另若分数 &gt; 70:
    &quot;二等品&quot;
  另若分数 &gt; 60:
    &quot;合格品&quot;
  另:
    &quot;不合格&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="循环-1"><a class="header" href="#循环-1">循环</a></h1>
<p>关键词 <code>循环</code>。</p>
<p>循环语句。</p>
<h2 id="指定循环次数"><a class="header" href="#指定循环次数">指定循环次数</a></h2>
<p>关键词 <code>次</code>, <code>变量</code>。</p>
<p>格式:</p>
<pre><code>循环数值次:
  # 代码块
</code></pre>
<p>比如:</p>
<pre><code>循环 3 次:
  输出 666。
</code></pre>
<p>可以指定循环变量, 比如:</p>
<pre><code>循环 3 次, 变量x:
  输出x。
</code></pre>
<p>结果为:</p>
<pre><code>0
1
2
</code></pre>
<h2 id="跳出循环"><a class="header" href="#跳出循环">跳出循环</a></h2>
<p>关键词 <code>破</code>, <code>破 0</code>。</p>
<ul>
<li>
<p>终止当前循环 (类似 <code>break</code>), 比如:</p>
<pre><code>设累加 = 0

循环 100 次, 变量x:
  累加 += x
  若累加 &gt; 50:
    破。
</code></pre>
</li>
<li>
<p>提前结束本次循环, 开始下一次循环 (类似 <code>continue</code>), 比如:</p>
<pre><code>设累加 = 0

循环 100 次, 变量x:
  # 跳过 2 和 3 的倍数
  若 (x % 2 == 0) | (x % 3 == 0):
    破 0。
  累加 += x
</code></pre>
</li>
</ul>
<h2 id="范围循环"><a class="header" href="#范围循环">范围循环</a></h2>
<p>关键词 <code>至</code>, <code>到</code>, <code>步长</code>。</p>
<p>格式:</p>
<pre><code>循环开始至结束, 变量名称, 步长数值:
  # 代码块

循环开始到结束, 变量名称, 步长数值:
  # 代码块
</code></pre>
<p>步长默认为 <code>1</code>。</p>
<ul>
<li>
<p>不包含结束值 (<code>至</code>), 比如:</p>
<pre><code>循环 1 至 3, 变量x:
  输出x。
</code></pre>
<p>结果:</p>
<pre><code>1
2
</code></pre>
</li>
<li>
<p>包含结束值 (<code>到</code>), 比如:</p>
<pre><code>循环 1 到 3, 变量x:
  输出x。
</code></pre>
<p>结果:</p>
<pre><code>1
2
3
</code></pre>
</li>
<li>
<p>指定步长, 比如:</p>
<pre><code>循环 3 到 9, 变量x, 步长 3:
  输出x。
</code></pre>
<p>结果:</p>
<pre><code>3
6
9
</code></pre>
</li>
</ul>
<h2 id="条件循环"><a class="header" href="#条件循环">条件循环</a></h2>
<p>关键词 <code>若</code>。
类似 <code>while</code> 循环。</p>
<p>格式:</p>
<pre><code>循环, 若条件:
  # 代码块
</code></pre>
<p>比如:</p>
<pre><code>设 x = 10

循环, 若 x &gt; 1:
  输出x。
  x -= 1
</code></pre>
<h2 id="无限循环"><a class="header" href="#无限循环">无限循环</a></h2>
<p>类似 rust 的 <code>loop</code>。</p>
<p>格式:</p>
<pre><code>循环:
  # 代码块
</code></pre>
<p>比如:</p>
<pre><code>循环:
  点赞。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="模式匹配"><a class="header" href="#模式匹配">模式匹配</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="模块"><a class="header" href="#模块">模块</a></h1>
<p>类似 js 的模块 (<code>module</code>) 设计。</p>
<p>每个歧语言源文件是一个模块。</p>
<h2 id="导入"><a class="header" href="#导入">导入</a></h2>
<p>导入语句, 关键词 <code>导入</code>, <code>的</code>, <code>全部</code>。</p>
<p>格式:</p>
<pre><code>导入(路径)的列表。  # 部分导入

导入名称(路径)的全部。  # 全部导入

导入名称(路径)。  # 整体导入

导入(路径)的名称(原名)。  # 导入重命名
</code></pre>
<p>比如, 每个歧语言源代码的开始都有一个隐藏的默认导入:</p>
<pre><code>导入标准库的序章的全部。
</code></pre>
<p>TODO</p>
<h2 id="导出"><a class="header" href="#导出">导出</a></h2>
<p>导出语句, 关键词 <code>导出</code>。</p>
<p>格式:</p>
<pre><code>导出名称(内部名称)。  # 导出重命名

导出名称。  # 同名导出

导出名称(路径)的全部。  # 导出别的模块的全部
导出名称(路径)。  # 整体导出别的模块
</code></pre>
<p>比如:</p>
<pre><code>定义内部计算(数字), 参数a(数字):
  # 函数体

定义点赞:
  # 函数体

导出计算(内部计算)。  # 导出重命名
导出点赞。  # 同名导出
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="标记语法-1"><a class="header" href="#标记语法-1">标记语法</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="标准库"><a class="header" href="#标准库">标准库</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="编译器错误代码"><a class="header" href="#编译器错误代码">编译器错误代码</a></h1>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="编译器使用"><a class="header" href="#编译器使用">编译器使用</a></h1>
<p>本章详细介绍歧语言编译器的使用, 包括选项参数等。</p>
<p>TODO</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
